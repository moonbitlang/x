test "to_utf8" {
  inspect!(
    @unicode.to_utf8!("âœ…"),
    content=
      #|b"\xe2\x9c\x85"
    ,
  )
  inspect!(
    @unicode.to_utf8!("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦"),
    content=
      #|b"\xf0\x9f\x91\xa8\xe2\x80\x8d\xf0\x9f\x91\xa9\xe2\x80\x8d\xf0\x9f\x91\xa7\xe2\x80\x8d\xf0\x9f\x91\xa6"
    ,
  )
}

test "from utf8" {
  inspect!(@unicode.from_utf8!(b"\xe2\x9c\x85"), content="âœ…")
  inspect!(
    "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
    content="ğŸ‘¨\u{200d}ğŸ‘©\u{200d}ğŸ‘§\u{200d}ğŸ‘¦",
  )
  inspect!(
    @unicode.from_utf8!(
      b"\xf0\x9f\x91\xa8\xe2\x80\x8d\xf0\x9f\x91\xa9\xe2\x80\x8d\xf0\x9f\x91\xa7\xe2\x80\x8d\xf0\x9f\x91\xa6",
    ),
    content="ğŸ‘¨\u{200d}ğŸ‘©\u{200d}ğŸ‘§\u{200d}ğŸ‘¦",
  )
}
